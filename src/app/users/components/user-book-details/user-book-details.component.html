<!-- <app-book-card [book]="book"></app-book-card> -->

<p>{{ book | json }}</p>
<!-- <div *ngFor="let  of book"> -->
<!--
 <div class="container ">
  <div class=" row row-cols-1 row-cols-md-3 g-3 p-5 d-flex justify-content-evenly">
    <div class="col-4 " >
      <div class=" card text-center" >
        <img src="https://mdbcdn.b-cdn.net/img/new/standard/city/041.webp"  class="card-img-top"
          alt="Hollywood Sign on The Hill" />
        <div class="card-body">
          <h1 class="card-title">{{book[0].name}}</h1>
          <h1 class="card-title">Author: {{book[0].author.firstName}} {{book[0].author.lastName}}</h1>
          <h1 class="card-title">Category: {{book[0].category.name}}</h1> -->

<!-- <h1 class="card-title">rating: {{book[0].bookUser.rating}}</h1> -->

<!-- <p class="card-text">
          <b>Summary:</b>{{book[0].summary}}
          </p>
          <p><b>Average rate: </b>{{book[0].avg_rate | number: '1.0-0'}}</p>
           <div>
            <div class="fs-1 p-5 ">
              rating:
              <span *ngFor="let star of [1, 2, 3, 4, 5]" (click)="getrating(star)">
                <i class="fa fa-star fs-3" [ngClass]="{'active': star <= rating }"></i>
              </span>
            </div>
          </div>
            <div>
              <select class="select btn btn-secondary dropdown-toggle"type="button"value="{{book[0].bookUser.status}}">
                <option value="Read">Read</option>
                <option value="Reading">Reading</option>
                <option value="wantToRead">Want To Read</option>
              </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div> -->

<!-- ///////////////////////////////////////////////////// -->

<!-- Shop Detail Start -->
<div class="container-fluid pb-5">
  <div class="row px-xl-5">
    <div class="col-lg-5 mb-30">
      <div id="" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner bg-light">
          <div class="carousel-item active">
            <img
              class="w-100 h-100"
              src="https://mdbcdn.b-cdn.net/img/new/standard/city/041.webp"
              alt="Image"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-7 h-auto mb-30">
      <div class="h-100 bg-light p-30">
        <h3>Book Name: "{{ book[0].name }}"</h3>
        <h3>
          Author: "{{ book[0].author.firstName }} {{ book[0].author.lastName }}"
        </h3>
        <h3>Category: "{{ book[0].category.name }}"</h3>
        <h5 class="font-weight-semi-bold mb-4">
          Average rate: :
          <span class="text-success">{{
            book[0].avg_rate | number : "1.0-0"
          }}</span>
        </h5>
        <h3>Description</h3>
        <p class="mb-4">{{ book[0].summary }}</p>
        <h5 class="font-weight-semi-bold mb-4">
          rating:
          <span class="text-success"> {{ book[0].bookUser.rating }}</span>
        </h5>
        <div class="fs-1" (click)="addRating()">
          rating:
          <span *ngFor="let star of [1, 2, 3, 4, 5]" (click)="getRating(star)">
            <i
              class="fa fa-star fs-3"
              [ngClass]="{ active: star <= rating }"
            ></i>
          </span>
          <div class="fs-1">
            Status:
            <select
              class="select btn btn-secondary dropdown-toggle"
              type="button"
              value="{{ book[0].bookUser.status }}"
              (click)="add($event)"
            >
              <option value="Read">Read</option>
              <option value="Reading">Reading</option>
              <option value="wantToRead">Want To Read</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row px-xl-5">
    <div class="col">
      <div class="bg-light p-30">
        <div class="mb-4">
          <h3 class="text-dark">Reviews for "{{ book[0].name }}"</h3>
          <div class="row">
            <div class="col-md-6">
              <h4 class="mb-4">
                review for author name "{{ book[0].author.firstName }}
                {{ book[0].author.lastName }}"
              </h4>
              <div class="media mb-4" *ngFor="let review of book[0].reviews">
                <img
                  src="{{ user_info.img }}"
                  alt="Image"
                  class="img-fluid mr-3 mt-1"
                  style="width: 45px"
                />
                <div class="media-body">
                  <h6 class="fw-bold text-capitalize">
                    user name:{{ user_info.first_name }} {{ user_info.last_name
                    }}<small> </small>
                  </h6>
                  <div ((click))="setLikeToReview(review)">
                    <p>{{ review.comment }}</p>
                    <div class="form-check">
                      <!-- <input
                        class="form-check-input"
                        type="checkbox"
                        value="true"
                        formControlName="like"
                        id="flexCheckDefault"
                      />
                      <label class="form-check-label" for="flexCheckDefault">
                        like or dislike
                      </label> -->
                    </div>

                    <p >{{ review.like }}</p>
                    <p>{{ review.date }}</p>
                  </div>
                </div>
              <!-- </div> -->
            </div>
            <div class="col-md-6">
              <h4 class="mb-4">Leave a review</h4>

              <form
                [formGroup]="reviewForm"
                (ngSubmit)="setReview()"
                novalidate
                class="form-group"
              >
                <div class="form-group">
                  <label for="message">Your Review *</label>

                  <textarea
                    formControlName="description"
                    id="message"
                    cols="30"
                    rows="5"
                    class="form-control"
                  ></textarea>
                  <label for="message"> like*</label>
                </div>

                <div class="form-group mb-0">
                  <input
                    type="submit"
                    value="Leave Your Review"
                    class="btn bg-primary text-white px-3"
                  />
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
